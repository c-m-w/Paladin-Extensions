<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="aed_log_clear" version_id="20005" version_string="1.1.0"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('logs/aed-logs/clear') }}" class="block" ajax="true">
    <div class="block-container">
        <div class="block-body">
            <xf:inforow rowtype="confirm">
                {{ phrase('aed_sure_you_want_to_clear_aed_log') }}
            </xf:inforow>
        </div>
        <xf:submitrow submit="{{ phrase('clear') }}" rowtype="simple" icon="delete" />
    </div>
</xf:form>]]></template>
  <template type="admin" title="aed_log_list" version_id="20005" version_string="1.1.0"><![CDATA[<xf:title>{{ phrase('aed_log') }}</xf:title>


<xf:pageaction if="$entries is not empty">
    <xf:button href="{{ link('logs/aed-logs/clear') }}" icon="delete" overlay="true">
        {{ phrase('clear') }}
    </xf:button>
</xf:pageaction>

<xf:if is="$entries is not empty">
    <div class="block">
        <div class="block-container">
            <div class="block-body">
                <xf:datalist data-xf-init="responsive-data-list">
                    <xf:datarow rowtype="header">
                        <xf:cell>{{ phrase('aed_from_user') }}</xf:cell>
                        <xf:cell>{{ phrase('aed_to_user') }}</xf:cell>
                        <xf:cell>{{ phrase('ip_address') }}</xf:cell>
                        <xf:cell>{{ phrase('aed_fingerprint') }}</xf:cell>
                        <xf:cell>{{ phrase('date_time') }}</xf:cell>
                    </xf:datarow>
                    <xf:foreach loop="$entries" value="$entry">
                        <xf:datarow>
                            <xf:cell><xf:username user="$entry.FromUser" href="{{ link('users/edit', $entry.FromUser) }}" /></xf:cell>
                            <xf:cell><xf:username user="$entry.ToUser" href="{{ link('users/edit', $entry.ToUser) }}" /></xf:cell>
                            <xf:cell class="u-ltr">{{ $entry.ip_address ? $entry.ip_address|ip : '' }}</xf:cell>
                            <xf:cell>{$entry.user_fingerprint}</xf:cell>
                            <xf:cell><xf:date time="{$entry.login_date}" /></xf:cell>
                        </xf:datarow>
                    </xf:foreach>
                </xf:datalist>
            </div>
            <div class="block-footer">
                <span class="block-footer-counter">{{ display_totals($entries, $total) }}</span>
            </div>
        </div>
        <xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
                    link="logs/aed-logs" params="{$linkFilters}"
                    wrapperclass="block-outer block-outer--after" />
    </div>
    <xf:else />
    <div class="blockMessage">{{ phrase('no_entries_have_been_logged') }}</div>
</xf:if>]]></template>
  <template type="admin" title="aed_option_template_alert" version_id="20005" version_string="1.1.0"><![CDATA[<xf:radiorow name="{$inputName}[mode]" value="{$option.option_value.mode}"
             label="{$option.title}"
             hint="{$hintHtml}"
             explain="{$explainHtml}"
             html="{$listedHtml}">

    <xf:option value="log">{{ phrase('log') }}</xf:option>

    <xf:option value="thread" data-hide="true">
        <xf:label>{{ phrase('thread') }}</xf:label>

        <xf:dependent>
            <div>{{ phrase('thread_starter:') }}</div>
            <xf:textbox name="{$inputName}[thread_user]" value="{$option.option_value.thread_user}" ac="single" />
        </xf:dependent>

        <xf:dependent>
            <div>{{ phrase('forum:') }}</div>
            <xf:select name="{$inputName}[node_id]" value="{$option.option_value.node_id}">
                <xf:option value="0">&nbsp;</xf:option>
                <xf:foreach loop="$nodeTree.getFlattened()" value="$treeEntry">
                    <xf:option value="{$treeEntry.record.node_id}" disabled="{{ $treeEntry.record.node_type_id != 'Forum' }}">
                        {{ repeat('--', $treeEntry.depth) }} {$treeEntry.record.title}
                    </xf:option>
                </xf:foreach>
                <xf:options source="$formatParams" />
            </xf:select>
        </xf:dependent>
    </xf:option>

    <xf:option value="conversation" data-hide="true">
        <xf:label>{{ phrase('conversation') }}</xf:label>

        <xf:dependent>
            <div>{{ phrase('conversation_starter:') }}</div>
            <xf:textbox name="{$inputName}[con_starter]" value="{$option.option_value.con_starter}" ac="single" />
        </xf:dependent>


        <xf:dependent>
            <div>{{ phrase('conversation_participants:') }}</div>
            <xf:textbox name="{$inputName}[con_participants]" value="{$option.option_value.con_participants}" ac="multiple" />
        </xf:dependent>
    </xf:option>
</xf:radiorow>]]></template>
</templates>
