<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="sv_warning_action_edit" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<hr class="formRowSep" /><xf:comment>Required to give seperator similar to XF1</xf:comment>

<xf:selectrow name="sv_warning_category_id" value="{$action.sv_warning_category_id}" label="{{ phrase('sv_warning_category:') }}">
	<xf:option value="0">{{ phrase('(none)') }}</xf:option>
	<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
		<xf:option value="{$treeEntry.record.warning_category_id}" selected="{$action.sv_warning_category_id} === {$treeEntry.record.warning_category_id}">{{ repeat('--', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
	</xf:foreach>
</xf:selectrow>

<hr class="formRowSep" /><xf:comment>Required to give seperator similar to XF1</xf:comment>

<xf:selectrow name="sv_post_node_id" value="{$action.sv_post_node_id}" class="js-nodeList" label="{{ phrase('sv_warning_node_id') }}" explain="{{ phrase('sv_warning_action_post_new_thread') }}">
	<xf:option value="0">{{ phrase('(none)') }}</xf:option>

	<xf:foreach loop="$nodeTree.getFlattened(0)" value="$treeEntry">
		<xf:option value="{$treeEntry.record.node_id}"  selected="{$action.sv_post_node_id} === {$treeEntry.record.node_id}" disabled="{{ $treeEntry.record.node_type_id != 'Forum' ? 'disabled' : '' }}">
			{{ repeat_raw('&nbsp; ', $treeEntry.depth) }} {$treeEntry.record.title}
		</xf:option>
	</xf:foreach>
</xf:selectrow>

<xf:numberboxrow name="sv_post_thread_id" value="{$action.sv_post_thread_id}" label="{{ phrase('sv_warning_thread_id') }}:" explain="{{ phrase('sv_warning_action_post_thread_reply') }}" />
<xf:numberboxrow name="sv_post_as_user_id" value="{$action.sv_post_as_user_id}" label="{{ phrase('sv_warning_post_as_user_id') }}:" explain="{{ phrase('sv_warning_action_post_as_user') }}" />]]></template>
  <template type="admin" title="sv_warning_action_list" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<xf:macro template="sv_warning_improvements_action_tree_macros" name="action_list" arg-globalActions="{$globalActions}" arg-actions="{$actions}" arg-categoryTree="{$categoryTree}" />]]></template>
  <template type="admin" title="sv_warning_category_delete" version_id="2011100" version_string="2.1.11"><![CDATA[<xf:title>{{ phrase('sv_confirm_deletion_of_warning_category') }}</xf:title>

<xf:macro template="sv_warning_improvements_category_tree_macros" name="category_delete_form" arg-category="{$category}" />]]></template>
  <template type="admin" title="sv_warning_category_edit" version_id="2010700" version_string="2.1.7"><![CDATA[<xf:if is="$category.isInsert()">
	<xf:title>{{ phrase('add_category') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('edit_category:') }} {$category.title}</xf:title>
</xf:if>

<xf:pageaction if="$category.warning_category_id > 1">
	<xf:button href="{{ link('warnings/category-delete', null, { 'warning_category_id': $category.warning_category_id }) }}"
		icon="delete"
		data-xf-click="overlay" />
</xf:pageaction>

<xf:form action="{{ link('warnings/category-save', null, { 'warning_category_id': $category.warning_category_id }) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow name="title" value="{{ $category.warning_category_id ? $category.MasterTitle.phrase_text : '' }}" label="{{ phrase('title') }}" />
			
			<xf:selectrow name="parent_category_id" value="{$category.parent_category_id}"
				label="{{ phrase('parent_category') }}">

				<xf:option value="0">{{ phrase('(none)') }}</xf:option>
				<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
					<xf:option value="{$treeEntry.record.warning_category_id}" disabled="{{ $treeEntry.record.warning_category_id == $category.warning_category_id }}">{{ repeat('--', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
				</xf:foreach>
			</xf:selectrow>

			<xf:macro template="display_order_macros" name="row" arg-value="{$category.display_order}" />
			
			<xf:macro template="helper_user_group_edit"
					  name="checkboxes"
					  arg-selectedUserGroups="{{ $category.isUpdate() ? $category.allowed_user_group_ids : [-1] }}" />
		</div>
		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="sv_warning_category_sort" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('sort_categories') }}</xf:title>

<xf:macro template="sv_warning_improvements_category_tree_macros" name="sortable_form" arg-categoryTree="{$categoryTree}" />]]></template>
  <template type="admin" title="sv_warning_edit_inputs" version_id="2000001" version_string="2.0.0rc1"><![CDATA[<xf:selectrow name="sv_warning_category_id" value="{$warning.sv_warning_category_id}" label="{{ phrase('sv_warning_category:') }}">
	<xf:option value="0">{{ phrase('(none)') }}</xf:option>
	<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
		<xf:option value="{$treeEntry.record.warning_category_id}">{{ repeat('--', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
	</xf:foreach>
</xf:selectrow>

<xf:macro template="display_order_macros" name="row" arg-name="sv_display_order" arg-value="{$warning.sv_display_order}" />]]></template>
  <template type="admin" title="sv_warning_improvements_action_tree_macros" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<xf:macro name="action_list" arg-globalActions="!" arg-actions="!" arg-categoryTree="!">
	<xf:if is="$actions is not empty || $globalActions is not empty">
		<div class="block">
			<div class="block-container">
				<h2 class="block-header">{{ phrase('warning_actions') }}</h2>
				<div class="block-body">
					<xf:css src="sv_warning_improvements_category_list.less" />
					<xf:datalist>
						<xf:if is="$globalActions">
							<xf:datarow>
								<xf:cell class="dataList-cell--link dataList-cell--main" hash="{$category.warning_category_id}">
									<a>
										<div class="dataList-mainRow">
											<spam class="u-depth0"><i class="warningImprovementsListingIcons warningImprovementsListingIcons--Category"></i> {{ phrase('sv_global_warning_actions') }}</spam>
										</div>
									</a>
								</xf:cell>
								
							</xf:datarow>
							
							<xf:foreach loop="$globalActions" value="$action">
								<xf:datarow>
									<xf:cell href="{{ link('warnings/actions/edit', $action) }}" class="u-depth0">
										<div class="dataList-mainRow">
											<spam class="u-depth1"><i class="warningImprovementsListingIcons warningImprovementsListingIcons--Action"></i> {{ phrase('points:') }} {$action.points}</spam>
											
											<div class="dataList-hint" dir="auto">
												<ul class="listInline listInline--bullet listInline--selfInline">
													<xf:if is="$action.action == 'ban'">
														<li>{{ phrase('ban') }}</li>
														<xf:elseif is="$action.action == 'discourage'" />
														<li>{{ phrase('discourage') }}</li>
														<xf:elseif is="$action.action == 'groups'" />
														<li>{{ phrase('add_to_selected_groups') }}</li>
														<xf:else />
														<li>{{ phrase('unknown_action') }}</li>
													</xf:if>

													<xf:if is="$action.action_length_type == 'permanent'">
														<li>{{ phrase('permanent') }}</li>
														<xf:elseif is="$action.action_length_type == 'points'" />
														<li>{{ phrase('while_at_or_above_points_threshold') }}</li>
														<xf:else />
														<li>{{ phrase('temporary') }}</li>
													</xf:if>
												</ul>
											</div>
										</div>
									</xf:cell>
									<xf:delete href="{{ link('warnings/actions/delete', $action) }}" />
								</xf:datarow>
							</xf:foreach>
						</xf:if>
						<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
							<xf:set var="$category" value="{$treeEntry.record}" />
							<xf:if is="{$actions.{$category.warning_category_id}} is not empty">
								<xf:datarow>
									<xf:cell class="dataList-cell--link dataList-cell--main" hash="{$category.warning_category_id}">
										<a href="{{ link('warnings/category-edit', null, { 'warning_category_id': $category.warning_category_id }) }}">
											<div class="u-depth{$treeEntry.depth}">
												<div class="dataList-mainRow"><i class="warningImprovementsListingIcons warningImprovementsListingIcons--Category"></i> {$category.title}</div>
											</div>
										</a>
									</xf:cell>
									<xf:delete href="{{ link('warnings/category-delete', null, { 'warning_category_id': $category.warning_category_id }) }}" />
								</xf:datarow>
								<xf:foreach loop="{$actions.{$category.warning_category_id}}" value="$action">
									<xf:datarow>
										<xf:cell href="{{ link('warnings/actions/edit', $action) }}">
											<div class="dataList-mainRow">
												<spam class="u-depth{{ $treeEntry.depth + 1 }}"><i class="warningImprovementsListingIcons warningImprovementsListingIcons--Action"></i> {{ phrase('points:') }} {$action.points}</spam>
												<div class="dataList-hint" dir="auto">
													<ul class="listInline listInline--bullet listInline--selfInline">
														<xf:if is="$action.action == 'ban'">
															<li>{{ phrase('ban') }}</li>
															<xf:elseif is="$action.action == 'discourage'" />
															<li>{{ phrase('discourage') }}</li>
															<xf:elseif is="$action.action == 'groups'" />
															<li>{{ phrase('add_to_selected_groups') }}</li>
															<xf:else />
															<li>{{ phrase('unknown_action') }}</li>
														</xf:if>

														<xf:if is="$action.action_length_type == 'permanent'">
															<li>{{ phrase('permanent') }}</li>
															<xf:elseif is="$action.action_length_type == 'points'" />
															<li>{{ phrase('while_at_or_above_points_threshold') }}</li>
															<xf:else />
															<li>{{ phrase('temporary') }}</li>
														</xf:if>
													</ul>
												</div>
											</div>
										</xf:cell>
										<xf:delete href="{{ link('warnings/actions/delete', $action) }}" />
									</xf:datarow>
								</xf:foreach>
							</xf:if>
						</xf:foreach>
					</xf:datalist>
				</div>
			</div>
		</div>
	<xf:else />
		<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="admin" title="sv_warning_improvements_category_list.less" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[.warningImprovementsListingIcons
{
	.m-faBase();
	color: @xf-textColorDimmed;
	margin-right: 0.75em;

	&--Warning:before
	{
		.m-faContent(@fa-var-exclamation-triangle, 1em);
	}

	&--Category:before
	{
		.m-faContent(@fa-var-bars, .86em);
	}

	&--Action:before
	{
		.m-faContent(@fa-var-keyboard-o, .86em);
	}
}]]></template>
  <template type="admin" title="sv_warning_improvements_category_tree_macros" version_id="2011000" version_string="2.1.10"><![CDATA[<xf:macro name="category_list" arg-warnings="!" arg-categoryTree="!">
	<xf:if is="$warnings is not empty">
		<div class="block">
			<div class="block-outer">
				<xf:macro template="filter_macros" name="quick_filter" arg-key="warning-category" arg-class="block-outer-opposite" />
			</div>
			<div class="block-container">
				<div class="block-body">
					<xf:css src="sv_warning_improvements_category_list.less" />

					<xf:datalist>
						<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
							<xf:set var="$category" value="{$treeEntry.record}" />
							<xf:datarow>
								<xf:cell class="dataList-cell--link dataList-cell--main" hash="{$category.warning_category_id}">
									<a href="{{ link('warnings/category-edit', null, { 'warning_category_id': $category.warning_category_id }) }}">
										<div class="u-depth{$treeEntry.depth}">
											<div class="dataList-mainRow"><i class="warningImprovementsListingIcons warningImprovementsListingIcons--Category"></i> {$category.title}</div>
										</div>
									</a>
								</xf:cell>
								<xf:popup class="dataList-cell--action u-hideMedium" label="{{ phrase('add...') }}">
									<div class="menu" data-menu="menu" aria-hidden="true">
										<div class="menu-content">
											<h3 class="menu-header">{{ phrase('add...') }}</h3>
											<a href="{{ link('warnings/category-add', null, { 'parent_category_id': $category.parent_category_id }) }}" class="menu-linkRow">{{ phrase('sibling') }}</a>
											<a href="{{ link('warnings/category-add', null, { 'parent_category_id': $category.warning_category_id}) }}" class="menu-linkRow">{{ phrase('child') }}</a>
										</div>
									</div>
								</xf:popup>
								<xf:delete href="{{ $category.warning_category_id > 1 ? link('warnings/category-delete', null, { 'warning_category_id': $category.warning_category_id }) : '' }}" />
							</xf:datarow>
							<xf:if is="{$warnings.{$category.warning_category_id}} is not empty">
								<xf:foreach loop="{$warnings.{$category.warning_category_id}}" value="$warningDefinition">
									<xf:datarow>
										<xf:cell class="dataList-cell--link dataList-cell--main" hash="warning_definition{$warningDefinition.warning_definition_id}">
											<a href="{{ link('warnings/edit', $warningDefinition) }}">
												<div class="u-depth{{ $treeEntry.depth + 1 }}">
													<div class="dataList-mainRow"><i class="warningImprovementsListingIcons warningImprovementsListingIcons--Warning"></i> {$warningDefinition.title}</div>
												</div>
											</a>
										</xf:cell>
										<xf:cell>&nbsp;</xf:cell>
										<xf:if is="!{$warningDefinition.is_custom}">
											<xf:delete href="{{ link('warnings/delete', $warningDefinition) }}" />
										<xf:else />
											<xf:cell>&nbsp;</xf:cell>
										</xf:if>
									</xf:datarow>
								</xf:foreach>
							</xf:if>
						</xf:foreach>
					</xf:datalist>
				</div>
			</div>
		</div>
	<xf:else />
		<div class="blockMessage">{{ phrase('no_warnings_have_been_defined') }}</div>
	</xf:if>
</xf:macro>

<xf:macro name="sortable_form" arg-categoryTree="!">
	<xf:macro template="public:nestable_macros" name="setup" />

	<xf:form action="{{ link('warnings/category-sort') }}" class="block" ajax="true">
		<div class="block-container">
			<div class="block-body">
				<div class="nestable-container" data-xf-init="nestable">
					<xf:macro name="sortable_list" arg-children="{$categoryTree}" />
					<xf:hiddenval name="categories" value="" />
				</div>
			</div>
			<xf:submitrow icon="save" rowtype="simple" />
		</div>
	</xf:form>
</xf:macro>

<xf:macro name="sortable_list" arg-children="!">
	<ol class="nestable-list">
		<xf:foreach loop="$children" key="$id" value="$child">
			<xf:macro name="sortable_list_entry" arg-child="{$child}" arg-children="{$child.children}" />
		</xf:foreach>
	</ol>
</xf:macro>

<xf:macro name="sortable_list_entry" arg-child="!" arg-children="!">
	<li class="nestable-item" data-id="{$child.id}">
		<div class="nestable-handle" aria-label="{{ phrase('drag_handle')|for_attr }}"><i class="fa fa-bars" aria-hidden="true"></i></div>
		<div class="nestable-content">{$child.record.title}</div>
		<xf:if is="$child.children is not empty">
			<xf:macro name="sortable_list" arg-children="{$child.children}" />
		</xf:if>
	</li>
</xf:macro>

<xf:macro name="parent_category_select_row"
	arg-category="!"
	arg-categoryTree="!">

	<xf:selectrow name="parent_category_id" value="{$category.parent_category_id}"
		label="{{ phrase('parent_category') }}">

		<xf:option value="0">{{ phrase('(none)') }}</xf:option>
		<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
			<xf:option value="{$treeEntry.record.warning_category_id}">{{ repeat('--', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
		</xf:foreach>
	</xf:selectrow>
</xf:macro>

<xf:macro name="category_delete_form" arg-category="!">
	<xf:form action="{{ link('warnings/category-delete', null, { 'warning_category_id': $category.warning_category_id }) }}" class="block" ajax="true">

		<div class="block-container">
			<div class="block-body">
				<xf:inforow rowtype="confirm">
					{{ phrase('please_confirm_that_you_want_to_delete_following:') }}
					<strong><a href="{{ link('warnings/category-edit', null, { 'warning_category_id': $category.warning_category_id }) }}">{$category.title}</a></strong>
				</xf:inforow>

				<xf:if is="$category.hasChildren()">
					<xf:radiorow name="child_nodes_action">
						<xf:option value="move" selected="true">{{ phrase('move_this_categorys_children_to_its_parent') }}</xf:option>
						<xf:option value="delete">{{ phrase('delete_this_categorys_children') }} </xf:option>
					</xf:radiorow>
				</xf:if>
			</div>
			<xf:submitrow rowtype="{{ !$category.hasChildren() ? 'simple' : '' }}" icon="delete" />
		</div>
		<xf:redirect />

	</xf:form>
</xf:macro>]]></template>
  <template type="admin" title="sv_warning_improvements_nestable.less" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[.category-container
{
	position: relative;

	&:first-child
	{
		padding: 0 @xf-paddingMedium;
	}

	.m-clearFix();
}

.category-list
{
	.m-listPlain();

	width: 100%;
	position: relative;

	.category-list
	{
		padding-left: 30px;
	}
	
	.nestable-list
	{
		padding-left: 30px;
	}

	.category-collapsed
	{
		.category-list
		{
			display: none;
		}
		
		.nestable-list
		{
			display: none;
		}
	}
}

.category-item
{
	.category-handle,
	.category-content,
	.category-button
	{
		border: 1px solid @xf-borderColor;
		border-radius: @xf-borderRadiusSmall;
		padding: @xf-paddingMedium;

		background-color: @xf-contentAltBg;
	}

	.category-button
	{
		float: left;

		color: @xf-textColorMuted;
		margin-left: 30px;

		border-radius: 0;
		border-left: none;
		border-right: none;
		outline: none;
	}

	.category-handle
	{
		position: absolute;
		margin: 0;
		left: 0;
		top: 0;
		width: 30px;

		text-align: center;
		color: @xf-textColorMuted;
		cursor: move;

		border-right: @xf-borderSize solid @xf-borderColor;
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;

		&.category-handle--full
		{
			bottom: 0;
		}
	}

	.category-content
	{
		text-overflow: ellipsis;
		overflow: hidden;
		white-space: nowrap;

		margin: @xf-paddingMedium 0;

		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
	}
}

.category-item,
.category-empty,
.category-placeholder
{
	position: relative;
	vertical-align: middle;
}

.category-placeholder,
.category-empty
{
	opacity: .6;
	border: 1px solid @xf-borderColor;
	background: @xf-contentAltBg;
	border-radius: @xf-borderRadiusSmall;
	margin: @xf-paddingMedium 0;
}

.category-empty
{
	min-height: floor((@xf-fontSizeNormal) * 1.475 + 2 * (@xf-paddingMedium) + 2 * (@xf-borderSize));
}

.category-dragel
{
	position: absolute;
	pointer-events: none;
	z-index: 9999;
}]]></template>
  <template type="admin" title="sv_warning_improvements_warning_tree_macros" version_id="2011000" version_string="2.1.10"><![CDATA[<xf:macro name="sortable_form" arg-categoryTree="!" arg-warnings="!">
	<xf:css src="sv_warning_improvements_nestable.less" />

	<xf:macro template="public:nestable_macros" name="setup" />

	<xf:form action="{{ link('warnings/sort') }}" class="block" ajax="true">
		<div class="block-container">
			<div class="block-body">
				<xf:macro name="sortable_list" arg-children="{$categoryTree}" arg-warnings="{$warnings}" />
			</div>
			<xf:submitrow icon="save" rowtype="simple" />
		</div>
	</xf:form>
</xf:macro>

<xf:macro name="sortable_list" arg-children="!" arg-warnings="{{ null }}">
	<div class="category-container">
		<ol class="category-list">
			<xf:foreach loop="$children" key="$id" value="$child">
				<xf:macro name="sortable_list_entry" arg-child="{$child}" arg-children="{$child.children}" arg-warnings="{$warnings}" />
			</xf:foreach>
		</ol>
	</div>
</xf:macro>

<xf:macro name="sortable_warning_list" arg-warnings="!" arg-category="!">
	<div class="nestable-container" data-xf-init="nestable" data-parent-id="{$category.warning_category_id}" data-value-target="#js-category-{$category.warning_category_id}-Data">
		<xf:if contentcheck="true">
		<ol class="nestable-list">
			<xf:contentcheck>
			<xf:foreach loop="$warnings" value="$warning">
				<li class="nestable-item" data-id="{$warning.warning_definition_id}">
					<div class="nestable-handle" aria-label="{{ phrase('drag_handle')|for_attr }}"><i class="fa fa-bars" aria-hidden="true"></i></div>
					<div class="nestable-content">{$warning.MasterTitle.phrase_text}</div>
				</li>
			</xf:foreach>
			</xf:contentcheck>
		</ol>
			</xf:if>
		<xf:hiddenval name="category-{$category.warning_category_id}" value="" id="js-category-{$category.warning_category_id}-Data" />
	</div>
</xf:macro>

<xf:macro name="sortable_list_entry" arg-child="!" arg-children="!" arg-warnings="!">
	<li class="category-item" data-id="{$child.id}">
		<div class="category-content block-minorHeader">{$child.record.title}</div>
		<xf:macro name="sortable_warning_list" arg-warnings="{$warnings.{$child.id}}" arg-category="{$child.record}" />

		<xf:if is="$child.children is not empty">
			<xf:macro name="sortable_list" arg-children="{$child.children}" arg-warnings="{$warnings}" />
		</xf:if>
	</li>
</xf:macro>]]></template>
  <template type="admin" title="sv_warning_list" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<xf:macro template="sv_warning_improvements_category_tree_macros" name="category_list" arg-warnings="{$warnings}" arg-categoryTree="{$categoryTree}" />]]></template>
  <template type="admin" title="sv_warning_sort" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('sv_warning_improvements_sort_warning_definitions') }}</xf:title>

<xf:macro template="sv_warning_improvements_warning_tree_macros" name="sortable_form"
	arg-categoryTree="{$categoryTree}"
	arg-warnings="{$warnings}" />]]></template>
  <template type="admin" title="sv_warningimprovements_criteria" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<xf:checkboxrow label="{{ phrase('warnings') }}">
	<xf:option name="user_criteria[warning_points_l][rule]" value="warning_points_l" selected="{$criteria.warning_points_l}"
		label="{{ phrase('user_has_received_at_least_x_warnings_points:') }}">
		<xf:dependent>
			<div class="inputGroup">
				<xf:numberbox name="user_criteria[warning_points_l][data][points]" value="{$criteria.warning_points_l.points}" size="5" min="0" step="1" />
				<span class="inputGroup-text">
					{{ phrase('days:') }}
				</span>
				<span class="inputGroup" dir="ltr">
					<xf:numberbox name="user_criteria[warning_points_l][data][days]" value="{$criteria.warning_points_l.days}" size="5" min="0" step="1" />
				</span>
			</div>

			<xf:checkbox>
				<xf:option name="user_criteria[warning_points_l][data][expired]" value="1" selected="{$criteria.warning_points_l.expired}"
				label="{{ phrase('sv_warning_include_expired') }}" />
			</xf:checkbox>
		</xf:dependent>
	</xf:option>

	<xf:option name="user_criteria[warning_points_m][rule]" value="warning_points_m" selected="{$criteria.warning_points_m}"
		label="{{ phrase('user_has_received_at_most_x_warnings_points:') }}">
		<xf:dependent>
			<div class="inputGroup">
				<xf:numberbox name="user_criteria[warning_points_m][data][points]" value="{$criteria.warning_points_m.points}" size="5" min="0" step="1" />
				<span class="inputGroup-text">
					{{ phrase('days:') }}
				</span>
				<span class="inputGroup" dir="ltr">
					<xf:numberbox name="user_criteria[warning_points_m][data][days]" value="{$criteria.warning_points_m.days}" size="5" min="0" step="1" />
				</span>
			</div>

			<xf:checkbox>
				<xf:option name="user_criteria[warning_points_m][data][expired]" value="1" selected="{$criteria.warning_points_m.expired}"
				label="{{ phrase('sv_warning_include_expired') }}" />
			</xf:checkbox>
		</xf:dependent>
	</xf:option>

	<xf:option name="user_criteria[sv_warning_minimum][rule]" value="sv_warning_minimum" selected="{$criteria.sv_warning_minimum}"
		label="{{ phrase('sv_warning_improvements_user_has_received_at_least_x_warnings_count:') }}">
		<xf:dependent>
			<div class="inputGroup">
				<xf:numberbox name="user_criteria[sv_warning_minimum][data][points]" value="{$criteria.sv_warning_minimum.points}" size="5" min="0" step="1" />
				<span class="inputGroup-text">
					{{ phrase('days:') }}
				</span>
				<span class="inputGroup" dir="ltr">
					<xf:numberbox name="user_criteria[sv_warning_minimum][data][days]" value="{$criteria.sv_warning_minimum.days}" size="5" min="0" step="1" />
				</span>
			</div>

			<xf:checkbox>
				<xf:option name="user_criteria[sv_warning_minimum][data][expired]" value="1" selected="{$criteria.sv_warning_minimum.expired}"
				label="{{ phrase('sv_warning_include_expired') }}" />
			</xf:checkbox>
		</xf:dependent>
	</xf:option>

	<xf:option name="user_criteria[sv_warning_maximum][rule]" value="sv_warning_maximum" selected="{$criteria.sv_warning_maximum}"
		label="{{ phrase('user_has_received_at_most_x_warnings_count:') }}">
		<xf:dependent>
			<div class="inputGroup">
				<xf:numberbox name="user_criteria[sv_warning_maximum][data][points]" value="{$criteria.sv_warning_maximum.points}" size="5" min="0" step="1" />
				<span class="inputGroup-text">
					{{ phrase('days:') }}
				</span>
				<span class="inputGroup" dir="ltr">
					<xf:numberbox name="user_criteria[sv_warning_maximum][data][days]" value="{$criteria.sv_warning_maximum.days}" size="5" min="0" step="1" />
				</span>
			</div>

			<xf:checkbox>
				<xf:option name="user_criteria[sv_warning_maximum][data][expired]" value="1" selected="{$criteria.sv_warning_maximum.expired}"
				label="{{ phrase('sv_warning_include_expired') }}" />
			</xf:checkbox>
		</xf:dependent>
	</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="sv_warningimprovements_escalating_defaults" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$escalatingDefaults is not empty">
	<div class="block">
		<div class="block-container">
			<h2 class="block-header">{{ phrase('warning_escalating_defaults') }}</h2>
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="$escalatingDefaults" value="$escalatingDefault">
						<xf:set var="$expiry_extension_phrase">{{ phrase('x_days', {'days': $escalatingDefault.expiry_extension}) }}</xf:set>
						<xf:if is="{$escalatingDefault.expiry_type} == 'weeks'">
							<xf:set var="$expiry_extension_phrase">{{ phrase('sv_x_weeks', {'weeks': $escalatingDefault.expiry_extension}) }}</xf:set>
						</xf:if>
						<xf:if is="{$escalatingDefault.expiry_type} == 'months'">
							<xf:set var="$expiry_extension_phrase">{{ phrase('x_months', {'months': $escalatingDefault.expiry_extension}) }}</xf:set>
						</xf:if>
						<xf:if is="{$escalatingDefault.expiry_type} == 'years'">
							<xf:set var="$expiry_extension_phrase">{{ phrase('sv_x_years', {'years': $escalatingDefault.expiry_extension}) }}</xf:set>
						</xf:if>
						
						<xf:datarow>
							<xf:main href="{{ link('warnings/default/edit', null, { 'warning_default_id': $escalatingDefault.warning_default_id }) }}">
								<xf:label>{{ phrase('points') }}: {$escalatingDefault.threshold_points}</xf:label>
								<xf:hint>{{ phrase('sv_increase_default_expiry_by_x', {'length': $expiry_extension_phrase}) }}</xf:hint>
							</xf:main>
							<xf:toggle name="active[{$escalatingDefault.warning_default_id}]" selected="$escalatingDefault.active"
									   class="dataList-cell--separated" submit="true"
									   tooltip="{{ phrase('sv_warning_improvements_enable_disable_this_warning_default') }}" />
							<xf:delete href="{{ link('warnings/default/delete', null, { 'warning_default_id': $escalatingDefault.warning_default_id }) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
			</div>
			<div class="block-footer">
				<span class="block-footer-counter">{{ display_totals($actions) }}</span>
			</div>
		</div>
	</div>
</xf:if>]]></template>
  <template type="admin" title="sv_warningimprovements_warning_default_delete" version_id="2011100" version_string="2.1.11"><![CDATA[<xf:title>{{ phrase('sv_confirm_deletion_of_warning_default') }}</xf:title>

<xf:css src="public:delete_confirmation.css" />

<xf:form action="{{ link('warnings/default/delete', null, { 'warning_default_id': $default.warning_default_id }) }}" class="block" ajax="true">

    <div class="block-container">
        <div class="block-body">
            <xf:inforow rowtype="confirm">
                {{ phrase('please_confirm_that_you_want_to_delete_following:') }}
                <strong><a href="{{ link('warnings/default/edit', null, { 'warning_default_id': $default.warning_default_id }) }}">{{ phrase('points') }}: {$default.threshold_points}</a></strong>
            </xf:inforow>
        </div>
        <xf:submitrow rowtype="simple" icon="delete" />
    </div>
    <xf:redirect />
</xf:form>]]></template>
  <template type="admin" title="sv_warningimprovements_warning_default_edit" version_id="2011100" version_string="2.1.11"><![CDATA[<xf:if is="$default.isInsert()">
	<xf:title>{{ phrase('sv_create_new_warning_default') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('sv_edit_warning_default:') }} {{ phrase('points_threshold') }} {$default.threshold_points}</xf:title>
</xf:if>

<xf:pageaction>
	<xf:button href="{{ link('warnings/default/delete', null, { 'warning_default_id': $default.warning_default_id }) }}"
		icon="delete"
		data-xf-click="overlay" />
</xf:pageaction>

<xf:form action="{{ link('warnings/default/save', null, { 'warning_default_id': $default.warning_default_id }) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:numberboxrow name="threshold_points" value="{$default.threshold_points}" min="1" label="{{ phrase('points_threshold') }}" explain="{{ phrase('sv_warning_default_applied_crossing_threshold') }}" />

			<xf:radiorow name="expiry_type_base" label="{{ phrase('sv_warning_expiry_extension') }}" explain="{{ phrase('sv_warning_expiry_extension_explain') }}">
				<xf:option value="never" selected="$default.expiry_type == 'never'">{{ phrase('never') }}</xf:option>
				<xf:option value="other" selected="$default.expiry_type != 'never'" label="{{ phrase('after_time:') }}">
					<xf:dependent>
						<div class="inputGroup">
							<xf:numberbox name="expiry_extension" value="{{ $default.expiry_extension }}" min="0" />
							<span class="inputGroup-splitter"></span>
							<xf:select name="expiry_type" value="{{ $default.expiry_type }}" class="input--inline">
								<xf:option value="days">{{ phrase('never') }}</xf:option>
								<xf:option value="days">{{ phrase('days') }}</xf:option>
								<xf:option value="weeks">{{ phrase('weeks') }}</xf:option>
								<xf:option value="months">{{ phrase('months') }}</xf:option>
								<xf:option value="years">{{ phrase('years') }}</xf:option>
							</xf:select>
						</div>
					</xf:dependent>
				</xf:option>
			</xf:radiorow>

			<xf:checkboxrow>
				<xf:option name="active" value="1" selected="{$default.active}">{{ phrase('sv_warning_default_is_active') }}</xf:option>
			</xf:checkboxrow>
		</div>
		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="sv_warningimprovements_warning_list1" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<div class="buttonGroup-buttonWrapper">
	<xf:button class="menuTrigger" data-xf-click="menu" aria-expanded="false" aria-haspopup="true" title="{{ phrase('more_options')|for_attr }}">{{ phrase('add...') }}</xf:button>
	<div class="menu" data-menu="menu" aria-hidden="true">
		<div class="menu-content">
			<a href="{{ link('warnings/category-add') }}" class="menu-linkRow" data-xf-click="overlay">{{ phrase('category') }}</a>
			<a href="{{ link('warnings/add') }}" class="menu-linkRow">{{ phrase('warning') }}</a>
			<a href="{{ link('warnings/actions/add') }}" class="menu-linkRow">{{ phrase('sv_warning_improvements_warning_action') }}</a>
			<a href="{{ link('warnings/default/add') }}" class="menu-linkRow">{{ phrase('sv_warning_improvements_warning_default') }}</a>
		</div>
	</div>
	
	<xf:button class="menuTrigger" data-xf-click="menu" aria-expanded="false" aria-haspopup="true" title="{{ phrase('more_options')|for_attr }}">{{ phrase('sort...') }}</xf:button>
	<div class="menu" data-menu="menu" aria-hidden="true">
		<div class="menu-content">
			<a href="{{ link('warnings/category-sort') }}" class="menu-linkRow" data-xf-click="overlay">{{ phrase('categories') }}</a>
			<a href="{{ link('warnings/sort') }}" class="menu-linkRow">{{ phrase('sv_warning_improvements_warning_definitions') }}</a>
		</div>
	</div>
</div>]]></template>
  <template type="public" title="alert_warning_alert_warning" version_id="2010900" version_string="2.1.9"><![CDATA[<xf:set var="$issuer" value="{$alert.User}" />

<xf:if is="!{$content.canViewIssuer()}">
	<xf:set var="$issuer" value="{$content.getAnonymizedIssuer()}" />
</xf:if>

{{ phrase('warning_alert_text', {
		'name': username_link($issuer, false, {'defaultname': $issuer.username}),
		'warning_attributes': $content.canView() ? 'href="' . link('warnings', $content) . '" class="fauxBlockLink-blockLink"' : '',
		'points': {$content.points},
		'warning_title': {$content.title}
	})
}}]]></template>
  <template type="public" title="sv_member_warn_chooser" version_id="2011000" version_string="2.1.10"><![CDATA[<xf:css src="sv_member_warn_chooser.less" />

<xf:js addon="SV/WarningImprovements" src="sv/warningimprovements/warnings.js" min="1" />
<xf:js prod="vendor/select2/select2.full.js" dev="vendor/select2/select2.full.min.js" />

<xf:js>
jQuery.extend(XF.config, {
	sv_warningimprovements_copy_title: {{ $xf.options.sv_warningimprovements_copy_title }}
});
</xf:js>

<div id="warning-view-select" style="display: none; opacity: 0;">
	<xf:selectrow name="warning_definition_id" class="js-FormFiller" value="0" label="{{ phrase('warning_type') }}" data-no-results-text="{{ phrase('sv_no_results_match') }}" data-place-holder-text="{{ phrase('sv_choose_a_warning') }}" data-xf-init="warning-view-select warning-title-watcher" data-warning-select="true">
		<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
			<xf:set var="$category" value="{$treeEntry.record}" />
			<xf:optgroup label="{{ repeat('--', $treeEntry.depth) }} {$category.title}">
				<xf:foreach loop="{$warnings.{$category.warning_category_id}}" value="$warning">
					<xf:option value="{$warning.warning_definition_id}">{{ repeat('--', $treeEntry.depth) }} {$warning.title}</xf:option>
				</xf:foreach>
			</xf:optgroup>
		</xf:foreach>
	</xf:selectrow>

	<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
		<xf:set var="$category" value="{$treeEntry.record}" />
		<xf:foreach loop="{$warnings.{$category.warning_category_id}}" value="$warningDefinition">
				<xf:formrow label="" data-custom-title-container="1" data-warning-view-type="select" data-warning-label="{$warningDefinition.custom_title_placeholder}" data-for-warning="{$warningDefinition.warning_definition_id}">
					<xf:if is="$warningDefinition.sv_custom_title || $warningDefinition.warning_definition_id == 0">
						<xf:textbox name="custom_title" maxlength="{{ max_length($warningDefinition, 'title') }}" value="" data-xf-init="warning-title-watcher" data-warning-title-input="1" data-for-warning="{$warningDefinition.warning_definition_id}" disabled="disabled" placeholder="{{ phrase('custom_title') }}" />
					<xf:else />
						<xf:hiddenval name="custom_title" data-warning-title-input="1" data-for-warning="{$warningDefinition.warning_definition_id}"></xf:hiddenval>
					</xf:if>
				</xf:formrow>
		</xf:foreach>
	</xf:foreach>
</div>

<div id="warning-view-radio" style="display: none; opacity: 0;">
	<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
		<xf:set var="$category" value="{$treeEntry.record}" />

		<xf:if is="{$warnings.{$category.warning_category_id}}">
			<xf:if is="$treeEntry.depth === 0">
				<xf:set var="$categoryTitleForFormRow">{$category.title}</xf:set>
			<xf:else />
				<xf:if is="(!{$warnings.{$category.Parent.warning_category_id}} && {$category.Parent.depth} === 0) || (!{$warnings.{$category.Parent.warning_category_id}} && {$category.Parent.depth} !== 0)">
					<xf:set var="$categoryTitleForFormRow">{$category.title}</xf:set>
				<xf:else />
					<xf:set var="$categoryTitleForFormRow"></xf:set>
				</xf:if>
			</xf:if>

			<xf:if is="$treeEntry.depth !== 0">
				<xf:if is="(!{$warnings.{$category.Parent.warning_category_id}} && {$category.Parent.depth} === 0) || (!{$warnings.{$category.Parent.warning_category_id}} && {$category.Parent.depth} !== 0)">
					<xf:set var="$categoryTitleForRadio"></xf:set>
				<xf:else />
					<xf:set var="$categoryTitleForRadio">{$category.title}:</xf:set>
				</xf:if>
			<xf:else />
				<xf:set var="$categoryTitleForRadio"></xf:set>
			</xf:if>

			<xf:formrow label="{$categoryTitleForFormRow}" class="u-depth{$treeEntry.depth}">
				<xf:if is="!empty({$categoryTitleForRadio})">
					<label class="u-depth{$treeEntry.depth}">{$categoryTitleForRadio}</label>
				</xf:if>

				<xf:foreach loop="{$warnings.{$category.warning_category_id}}" value="$warningDefinition">
					<div class="u-depth{$treeEntry.depth}">
						<xf:radio name="warning_definition_id" value="0">
							<xf:option value="{$warningDefinition.warning_definition_id}" class="js-FormFiller" label="{$warningDefinition.title}" data-warning-radio="true" data-warning-label="{$warningDefinition.custom_title_placeholder}" data-xf-init="warning-title-watcher">
								<xf:dependent>
									<xf:if is="$warningDefinition.sv_custom_title || $warningDefinition.warning_definition_id == 0">
										<xf:formrow label="" data-custom-title-container="1" data-warning-view-type="radio">
											<xf:textbox label="" name="custom_title" maxlength="{{ max_length($warningDefinition, 'title') }}" value="{$warningDefinition.custom_title_placeholder}" data-xf-init="warning-title-watcher" data-warning-title-input="1" data-for-warning="{$warningDefinition.warning_definition_id}" />
										</xf:formrow>
									</xf:if>
								</xf:dependent>
							</xf:option>
						</xf:radio>
					</div>
				</xf:foreach>
			</xf:formrow>
		</xf:if>
	</xf:foreach>
</div>

<xf:formrow>
	<a class="u-jsOnly" data-xf-init="warning-view-toggle" href="#"
	data-select-view="#warning-view-select"
	data-radio-view="#warning-view-radio"
	data-toggle-select-phrase="{{ phrase('sv_toggle_select_view')|for_attr }}"
	data-toggle-radio-phrase="{{ phrase('sv_toggle_radio_view')|for_attr }}"></a>
</xf:formrow>]]></template>
  <template type="public" title="sv_member_warn_chooser.less" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[@_input-numberWidth: 150px;
@_input-numberNarrowWidth: 90px;
@_input-textColor: xf-default(@xf-input--color, @xf-textColor);
@_input-elementSpacer: @xf-paddingMedium;
@_input-checkBoxSpacer: 1.5em;

.m-inputReadOnly()
{
	color: mix(xf-default(@xf-input--color, @xf-textColor), xf-default(@xf-inputDisabled--color, @xf-textColorMuted));
	background: mix(xf-default(@xf-input--background-color, @xf-contentBg), xf-default(@xf-inputDisabled--background-color, @xf-paletteNeutral1));
}

#warning-view-radio
{
	.formRow[data-custom-title-container="1"]
	{
		dt
		{
			display: none;
		}

		dd
		{
			padding: 0px;
		}
	}
}

.select2-hidden-accessible
{
	border: 0 !important;
	clip: rect(0 0 0 0) !important;
	height: 1px !important;
	margin: -1px !important;
	overflow: hidden !important;
	padding: 0 !important;
	position: absolute !important;
	width: 1px !important;
}

.select2
{
	line-height: normal;

	*:focus
	{
		outline: none;
	}

	.select2-selection
	{
		padding: 0;
		margin: 0;
		display: block;

		&.input
		{
			cursor: text;
		}

		ul
		{
			list-style: none;
			margin: 0;
			padding: 0 5px;
			width: 100%;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;

			display: inline-flex;
			flex-wrap: wrap;
			margin-bottom: 5px;

			> li
			{
				&.select2-selection__choice
				{
					float: left;

					font-size: 15px;
					border-radius: @xf-borderRadiusMedium;

					.xf-chip();

					margin-right: 5px;
					margin-top: 5px;
					padding: 0 5px;

					cursor: default;

					.select2-selection__choice__remove
					{
						font-size: 0;
						cursor: pointer;

						&:before
						{
							.m-faBase();
							font-size: 15px;
							.m-faContent("@{fa-var-close}\20");
							opacity: .5;
							.m-transition(opacity);
						}

						&:hover:before
						{
							opacity: 1;
						}
					}
				}
			}

			.select2-search
			{
				flex-grow: 1;
				min-width: 0;

				&.select2-search--inline
				{
					float: left;
				}

				.select2-search__field
				{
					border: none;
					padding: 1px 0;
					margin-top: 5px;
					background: transparent;
					min-width: 100%;
					max-width: 100%;

					&:focus
					{
						outline: none;
					}
				}
			}
		}
	}
}

.select2-container
{
	display: inline-block;

	&.select2-container--disabled
	{
		.input
		{
			.xf-inputDisabled();
		}
	}

	&.select2-container--open
	{
		.select2-dropdown
		{
			-ltr-rtl-left: 0;

			&.select2-dropdown--above
			{
				border-bottom: none;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			&.select2-dropdown--below
			{
				border-top: none;
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}

.select2-dropdown
{
	border-radius: @xf-borderRadiusSmall;
	box-sizing: border-box;
	display: block;
	position: absolute;
	-ltr-rtl-left: -100000px;
	width: 100%;
	z-index: 1051;
	padding-top: 2px;

	&.select2-dropdown--above
	{
		padding-bottom: 5px;

		.select2-results__option.loading-results:not(:last-child)
		{
			display: none;
		}
	}
}

.select2-results
{
}

.select2-results__options
{
	.m-autoCompleteList();

	display: block;
	
	&--nested
	{
		box-shadow: none;
	}
}

.select2-results__option
{
	user-select: none;
	-webkit-user-select: none;

	&.select2-results__option--highlighted
	{
		background: @xf-contentHighlightBg;
	}
}

.select2-selection__rendered
{
	.xf-input();
	display: block;
	width: 100%;
	line-height: @xf-lineHeightDefault;
	text-align: left; // this will be flipped in RTL
	word-wrap: break-word;
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
	.m-transition();
	.m-placeholder({color: fade(@_input-textColor, 40%); });
	cursor: default;

	&:focus,
	&.is-focused
	{
		outline: 0;
		.xf-inputFocus();
		.m-placeholder({color: fade(@_input-textColor, 50%); });
	}

	&[readonly],
	&.is-readonly
	{
		.m-inputReadOnly();
	}

	&[disabled]
	{
		.xf-inputDisabled();
	}
}

.select2-search__field
{
	.xf-input();
	display: block;
	width: 100%;
	line-height: @xf-lineHeightDefault;
	text-align: left; // this will be flipped in RTL
	word-wrap: break-word;
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
	.m-transition();
	.m-placeholder({color: fade(@_input-textColor, 40%); });
	margin-top: -38px;

	&:focus,
	&.is-focused
	{
		outline: 0;
		.xf-inputFocus();
		.m-placeholder({color: fade(@_input-textColor, 50%); });
	}

	&[readonly],
	&.is-readonly
	{
		.m-inputReadOnly();
	}

	&[disabled]
	{
		.xf-inputDisabled();
	}
}

.select2-results > .select2-results__options
{
	max-height: 200px;
	overflow-y: auto;
	margin-top: -3px;
	border-bottom-left-radius: @xf-borderRadiusSmall;
	border-bottom-right-radius: @xf-borderRadiusSmall;
}

.select2-selection--single .select2-selection__arrow
{
	height: 26px;
	position: absolute;
	top: 20px;
	right: 20px;
	width: 20px;
}

.select2-selection--single .select2-selection__arrow b
{
	border-color: #888 transparent transparent transparent;
	border-style: solid;
	border-width: 5px 4px 0 4px;
	height: 0;
	left: 50%;
	margin-left: -4px;
	margin-top: -2px;
	position: absolute;
	top: 50%;
	width: 0;
}]]></template>
  <template type="public" title="sv_member_warning_actions" version_id="2010000" version_string="2.1.0"><![CDATA[<xf:title>{{ phrase('warnings:') }} {$user.username}</xf:title>

<xf:breadcrumb href="{{ link('members', $user) }}">{$user.username}</xf:breadcrumb>

<div class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:datalist data-xf-init="responsive-data-list">
				<xf:datarow rowtype="header">
					<xf:cell width="20%">{{ phrase('sv_warning_action_type') }}</xf:cell>
					<xf:cell>{{ phrase('sv_warning_action_result') }}</xf:cell>
					<xf:cell>{{ phrase('sv_warning_action_expiry') }}</xf:cell>
					<xf:cell>&nbsp;</xf:cell>
				</xf:datarow>
				<xf:foreach loop="$user.warning_actions" value="$warningAction">
					<xf:datarow rowclass="{{ $warningAction.is_expired ? 'dataList-row--disabled' : '' }}">
						<xf:cell href="{{ link('members/warning-actions', $warningAction.User, { 'warning_action_id': $warningAction.user_change_temp_id }) }}" overlay="true">{$warningAction.name}</xf:cell>
						<xf:cell href="{{ link('members/warning-actions', $warningAction.User, { 'warning_action_id': $warningAction.user_change_temp_id }) }}" overlay="true">{$warningAction.result}</xf:cell>
						<xf:cell href="{{ link('members/warning-actions', $warningAction.User, { 'warning_action_id': $warningAction.user_change_temp_id }) }}" overlay="true">
							<xf:if is="{$warningAction.effective_expiry_date}">
								<xf:date time="{$warningAction.effective_expiry_date}" />
							<xf:elseif is="{$warningAction.is_permanent}" />
								{{ phrase('permanent') }}
							<xf:else />
								{{ phrase('n_a') }}
							</xf:if>
						</xf:cell>
						<xf:cell href="{{ link('members/warning-actions', $warningAction.User, { 'warning_action_id': $warningAction.user_change_temp_id }) }}" overlay="true">{{ phrase('view') }}</xf:cell>
					</xf:datarow>
				</xf:foreach>
			</xf:datalist>
		</div>
		<div class="block-footer">
			<ul class="listInline listInline--bullet">
				<li>{{ phrase('sv_total_warning_actions:') }} {{ count($user.warning_actions)|number }}</li>
			</ul>
		</div>
	</div>
</div>]]></template>
  <template type="public" title="sv_warning_actions_info" version_id="2010000" version_string="2.1.0"><![CDATA[<xf:title>{{ phrase('sv_warning_action_for_x', {'name': $user.username}) }}</xf:title>

<div class="form block">
	<div class="block-container">
		<div class="block-body">
			<xf:formrow label="{{ phrase('sv_warning_action_type') }}">
				{$warningAction.name}, {{ date_time("{$warningAction.create_date}") }}
			</xf:formrow>

			<xf:formrow label="{{ phrase('sv_warning_action_result') }}">
				{$warningAction.result}
			</xf:formrow>

			<xf:formrow label="{{ phrase('sv_warning_action_expiry') }}">
				<xf:if is="{$warningAction.effective_expiry_date}" >
					<xf:date time="{$warningAction.effective_expiry_date}" />
				<xf:elseif is="{$warningAction.is_permanent}" />
					{{ phrase('permanent') }}
				<xf:else />
					{{ phrase('n_a') }}
				</xf:if>
			</xf:formrow>
		</div>

		<xf:if is="$warningAction.canEditWarningAction()">
			<h2 class="block-tabHeader tabs" data-xf-init="tabs" role="tablist">
				<a class="tabs-tab is-active" role="tab" tabindex="0" aria-controls="{{ unique_id('warning-action') }}">{{ phrase('sv_update_warning_action') }}</a>
			</h2>
			<ul class="tabPanes">
				<li role="tabpanel" id="{{ unique_id('warning-action') }}">
					<xf:macro name="expire" arg-user="{$user}" arg-warningAction="{$warningAction}" />
				</li>
			</ul>
		</xf:if>
	</div>
</div>

<xf:macro name="expire" arg-user="!" arg-warningAction="!" arg-redirect="">
	<xf:form action="{{ link('members/warning-actions/expire', $user, { 'warning_action_id': $warningAction.user_change_temp_id }) }}">
		<xf:radiorow name="expire" value="now">
			<xf:option value="now">{{ phrase('expire_now') }}</xf:option>
			<xf:option value="future" label="{{ phrase('expire_in_time:') }}">
				<xf:dependent>
					<div class="inputGroup">
						<xf:numberbox name="expiry_value" value="1" min="0" />
						<span class="inputGroup-splitter"></span>
						<xf:select name="expiry_unit" value="days" class="input--inline">
							<xf:option value="hours">{{ phrase('units_hours') }}</xf:option>
							<xf:option value="days">{{ phrase('days') }}</xf:option>
							<xf:option value="weeks">{{ phrase('weeks') }}</xf:option>
							<xf:option value="months">{{ phrase('months') }}</xf:option>
							<xf:option value="years">{{ phrase('years') }}</xf:option>
						</xf:select>
					</div>
				</xf:dependent>
			</xf:option>
		</xf:radiorow>

		<xf:submitrow icon="save" value="{{ phrase('sv_update_warning_action') }}" />

		<xf:redirect url="{$redirect}" />
	</xf:form>
</xf:macro>]]></template>
  <template type="public" title="sv_warningimprovements_member_view_warning_actions" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="{$user.warning_actions_count}">
	<li data-href="{{ link('members/warning-actions', $user) }}" role="tabpanel" aria-labelledby="warningActions">
		<div class="blockMessage">{{ phrase('loading...') }}</div>
	</li>
</xf:if>]]></template>
  <template type="public" title="sv_warningimprovements_member_warn7" version_id="2000005" version_string="2.0.0rc5"><![CDATA[<xf:css src="sv_warningimprovements_member_warn7.less" />

<h2 class="block-formSectionHeader">
	<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up :next">
		<span class="block-formSectionHeader-aligner">{{ phrase('sv_warning_improvements_previous_warnings', {'count': $user.warning_count}) }}</span>
	</span>
</h2>

<div class="block-body previous-warnings block-body--collapsible">
	<xf:formrow>
		<xf:datalist data-xf-init="responsive-data-list">
			<xf:datarow rowtype="header">
				<xf:cell>{{ phrase('warning') }}</xf:cell>
				<xf:cell>{{ phrase('date') }}</xf:cell>
				<xf:cell>{{ phrase('points') }}</xf:cell>
				<xf:cell>{{ phrase('expiry') }}</xf:cell>
			</xf:datarow>
			<xf:foreach loop="$previousWarnings" value="$previousWarning">
				<xf:datarow rowclass="{{ $previousWarning.is_expired ? 'dataList-row--disabled' : '' }}">
					<xf:cell href="{{ link('warnings', $previousWarning) }}" overlay="true">{$previousWarning.title}</xf:cell>
					<xf:cell href="{{ link('warnings', $previousWarning) }}" overlay="true" class="dataList-cell--min"><xf:date time="{$previousWarning.warning_date} " /></xf:cell>
					<xf:cell href="{{ link('warnings', $previousWarning) }}" overlay="true" class="dataList-cell--min">{$previousWarning.points|number}</xf:cell>
					<xf:cell href="{{ link('warnings', $previousWarning) }}" overlay="true" class="dataList-cell--min">
						<xf:if is="$previousWarning.expiry_date">
							<xf:date time="{$previousWarning.expiry_date} " />
							<xf:else />
							{{ phrase('n_a') }}
						</xf:if>
					</xf:cell>
				</xf:datarow>
			</xf:foreach>
			<xf:if is="count($previousWarnings) < $user.warning_count">
				<xf:datarow rowclass="{{ $previousWarning.is_expired ? 'dataList-row--disabled' : '' }}">
					<xf:cell href="{{ link('members', $user) }}#warnings" colspan="4">{{ phrase('sv_all_warnings', {'count': $user.warning_count - count($previousWarnings) }) }}</xf:cell>
				</xf:datarow>
			</xf:if>
		</xf:datalist>
	</xf:formrow>
</div>]]></template>
  <template type="public" title="sv_warningimprovements_member_warn7.less" version_id="2000000" version_string="2.0.0 Alpha"><![CDATA[.previous-warnings
{
	dd
	{
		padding: 0px;
	}
}]]></template>
</templates>
