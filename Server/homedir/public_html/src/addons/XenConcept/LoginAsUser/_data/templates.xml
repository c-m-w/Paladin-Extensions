<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="xc_login_as_user_conversation_options" version_id="2000000" version_string="2.0.0"><![CDATA[<xf:checkboxrow
        label="{$option.title}"
        hint="{$hintHtml}"
        explain="{$explainHtml}"
        html="{$listedHtml}">

        <xf:option name="{$inputName}[messageOpenInvite]" value="1" selected="$option.option_value.messageOpenInvite">
            {{ phrase('allow_anyone_in_conversation_to_invite_others') }}
        </xf:option>
        <xf:option name="{$inputName}[messageLocked]" value="1" selected="$option.option_value.messageLocked">
            {{ phrase('lock_conversation_no_responses_will_be_allowed') }}
        </xf:option>

</xf:checkboxrow>]]></template>
  <template type="public" title="xc_login_as_user_member_macros" version_id="2000000" version_string="2.0.0"><![CDATA[<xf:if is="$xf.visitor.canLoginAsUser()">
    <a href="{{ link('misc/login-as-user', '', {'user_id': $user.user_id}) }}"
       data-xf-click="overlay"
       class="button button--link">

        {{ phrase('xc_login_as_user') }}

    </a>
</xf:if>]]></template>
  <template type="public" title="xc_login_as_user_misc_login_as_user" version_id="2000200" version_string="2.0.2"><![CDATA[<xf:title>{{ phrase('xc_login_as_user') }}</xf:title>

<xf:form action="{{ link('misc/login-as-user') }}"  ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			
			<xf:tokeninputrow name="username" value="{$username}" href="{{ link('members/find') }}"
							  max-tokens="3"
							  label="{{ phrase('xc_login_as_user_user') }}" />

			<xf:textarearow name="reason"
						 rows="3"
				label="{{ phrase('xc_login_as_user_reason') }}" />
		</div>
		<xf:submitrow submit="{{ phrase('xc_login_as_user') }}" sticky="true" icon="login" />
	</div>
</xf:form>]]></template>
  <template type="public" title="xc_login_as_user_staff_bar" version_id="2000000" version_string="2.0.0"><![CDATA[<xf:if is="$xf.session.login_as_user">
	<xf:set var="$userRepo" value="{$xf.app.em.getRepository('XF:User')}" />
	<xf:set var="{$userRever}" value="{$userRepo.getVisitor($xf.session.login_as_user)}" />
        <a href="{{ link('misc/logout-as-user') }}"
           class="p-staffBar-link">
            {{ phrase('xc_login_as_user_revert_user', {'username': $userRever.username}) }}
        </a>
    <xf:else />

    <xf:if is="$xf.visitor.canLoginAsUser()">
        <a href="{{ link('misc/login-as-user') }}"
           class="p-staffBar-link"
           data-xf-click="overlay">
            {{ phrase('xc_login_as_user') }}
        </a>
    </xf:if>
</xf:if>]]></template>
</templates>
