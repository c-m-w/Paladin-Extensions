<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="xc_warning_logs_log_warning_clear" version_id="2000000" version_string="2.0.0"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('logs/warning/clear') }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('xc_warning_logs_sure_you_want_to_clear_warning_log') }}
			</xf:inforow>
		</div>
		<xf:submitrow submit="{{ phrase('clear') }}" rowtype="simple" icon="delete" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="xc_warning_logs_log_warning_list" version_id="2000000" version_string="2.0.0"><![CDATA[<xf:title>{{ phrase('xc_warning_logs_warning_log') }}</xf:title>

<xf:breadcrumb href="{{ link('logs/warning') }}">{{ phrase('xc_warning_logs_warning_log') }}</xf:breadcrumb>

<xf:pageaction if="$entries is not empty">
	<xf:button href="{{ link('logs/warning/clear') }}" icon="delete" overlay="true">
		{{ phrase('clear') }}
	</xf:button>
</xf:pageaction>

<xf:form action="{{ link('logs/warning') }}" class="block">
	<div class="block-container">
		<div class="block-body block-row">
			{{ phrase('xc_warning_logs_search_for_warnings_issued_by:') }}&nbsp;
			<xf:textbox name="username" placeholder="{{ phrase('user_name...') }}" type="search" value="{{ $limitUser ? $limitUser.username : '' }}" class="input--inline" />
			<xf:button type="submit">{{ phrase('search') }}</xf:button>
		</div>
	</div>
</xf:form>

<xf:if is="$entries is not empty">
<div class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:datalist data-xf-init="responsive-data-list">
				<xf:datarow rowtype="header">
					<xf:cell>{{ phrase('xc_warning_logs_issued_by') }}</xf:cell>
					<xf:cell>{{ phrase('xc_warning_logs_issued_to') }}</xf:cell>
					<xf:cell>{{ phrase('date') }}</xf:cell>
					<xf:cell>{{ phrase('points') }}</xf:cell>
					<xf:cell>{{ phrase('reason') }}</xf:cell>
					<xf:cell>{{ phrase('expiry') }}</xf:cell>
					<xf:cell>{{ phrase('xc_warning_logs_manage') }}</xf:cell>
				</xf:datarow>
				
				<xf:foreach loop="$entries" value="$entry">
					<xf:datarow>
						<xf:cell><xf:username user="{$entry.WarnedBy}" /></xf:cell>
						<xf:cell><xf:username user="{$entry.User}" /></xf:cell>
						<xf:cell><xf:date time="{$entry.warning_date}" /></xf:cell>
						<xf:cell>{$entry.points}</xf:cell>
						<xf:cell>{$entry.notes}</xf:cell>
						<xf:cell><xf:date time="{$entry.expiry_date}" /></xf:cell>
						<xf:cell><xf:button href="{{ link_type('public', 'warnings', $entry) }}" data-xf-click="overlay">{{ phrase('view') }}</xf:button></xf:cell>
					</xf:datarow>
				</xf:foreach>
			</xf:datalist>
		</div>
	</div>
	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
			link="logs/warning"
			wrapperclass="block-outer block-outer--after" />
</div>
<xf:else />
	<div class="blockMessage">{{ phrase('xc_warning_logs_no_warnings_have_been_logged') }}</div>
</xf:if>]]></template>
</templates>
