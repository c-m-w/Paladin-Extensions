!function(c,b,a,d){XF.SRCLinkGenerator=XF.Element.newHandler({options:{},init:function(){var f=this.$target.find('input[name="url"]');var e=this.$target.find('input[name="result"]');this.$target.on("submit",function(g){g.preventDefault();if(!f.val().trim()){return f.focus()}XF.ajax("GET",XF.canonicalizeUrl("index.php?account/referral-tools/generate"),{url:f.val()},function(h){if(h.message){XF.flashMessage(h.message,3000)}else{e.val(h.affiliateUrl).show().prop("readonly",true).select()}},{global:false,error:false})})}});XF.Element.register("siropu-referral-contests-link-generator","XF.SRCLinkGenerator")}(jQuery,window,document);