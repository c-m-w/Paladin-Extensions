var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,d,c){a instanceof String&&(a=String(a));for(var e=a.length,b=0;b<e;b++){var f=a[b];if(d.call(c,f,b,a))return{i:b,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,c,e){if(d){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var b=a[e];b in c||(c[b]={});c=c[b]}a=a[a.length-1];e=c[a];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");var SV=SV||{};
(function(a,d,c,e){SV.WarningViewToggler=XF.Element.newHandler({eventNameSpace:"SVWarningViewToggler",options:{},$selectViewContainer:null,$radioViewContainer:null,toggleSelectViewPhrase:null,toggleRadioViewPhrase:null,storageName:"xf_sv_warning_view",setting:null,init:function(){var b=this.$target.data("select-view"),c=this.$target.data("radio-view");if(b)if(c){var d=this.$target.data("toggle-select-phrase"),e=this.$target.data("toggle-radio-phrase");d?e?(this.selectViewContainer=b,this.radioViewContainer=
c,this.toggleSelectViewPhrase=d,this.toggleRadioViewPhrase=e,this.setting=localStorage.getItem(this.storageName),this.$target.on("click",a.proxy(this,"click")),"select"===this.setting?this.showSelectView():this.showRadioView()):console.error("Warning View Toggler must have a data-toggle-radio-phrase"):console.error("Warning View Toggler must have a data-toggle-select-phrase")}else console.error("Warning View Toggler must have a data-radio-view");else console.error("Warning View Toggler must have a data-select-view")},
click:function(a){a.preventDefault();this.toggle()},toggle:function(){"select"===this.setting?this.setSetting("radio"):this.setSetting("select");d.location.reload()},showSelectView:function(){a(this.selectViewContainer).xfFadeDown();this.$target.text(this.toggleRadioViewPhrase);a('[data-warning-view-type="radio"]').remove();a(this.radioViewContainer).xfFadeUp();a(this.radioViewContainer).remove();a('select[data-warning-select="true"]').trigger("change")},showRadioView:function(){a(this.radioViewContainer).xfFadeDown();
this.$target.text(this.toggleSelectViewPhrase);a('[data-warning-view-type="select"]').remove();a(this.selectViewContainer).xfFadeUp();a(this.selectViewContainer).remove();a('input[type=radio][data-warning-radio="true"]:enabled:visible:checked:first').trigger("click")},getSetting:function(){return this.setting},setSetting:function(a){this.setting=a;localStorage.setItem(this.storageName,this.setting)}});SV.WarningViewSelect=XF.Element.newHandler({eventNameSpace:"WarningViewSelect",options:{},$container:null,
init:function(){var b={tags:!1,width:"100%",containerCssClass:"input",minimumInputLength:0,selectOnClose:!0,openOnEnter:!0,disabled:this.$target.prop("disabled")};this.$target.select2(b);b=this.$target.data("select2");this.$container=b.$container;this.$selection=b.$selection;b.on("results:message",function(a){this.dropdown._resizeDropdown();this.dropdown._positionDropdown()});b.$selection.addClass("is-focused");b.$container.on("focusin focusout",a.proxy(this,"inputFocusBlur"));this.$target.on("change",
a.proxy(this,"change"))},inputFocusBlur:function(a){switch(a.type){case "focusout":this.$selection.removeClass("is-focused");break;default:this.$selection.addClass("is-focused")}},change:function(b){this.$target.trigger("click");a("input[type=text][name=custom_title]").val("")}});SV.WarningTitleWatcher=XF.Element.newHandler({eventNameSpace:"WarningTitleWatcher",options:{},init:function(){this.$target.on("change",a.proxy(this,"change"));this.$target.on("input",a.proxy(this,"input"));if(this.$target.is("input:radio"))this.$target.on("click",
a.proxy(this,"click"))},change:function(){this.input()},click:function(){this.input()},input:function(){if(this.$target.is("input:text"))this.setPublicMessage(this.$target.val());else if(this.$target.is("input:radio"))a("input[data-warning-title-input=1][data-for-warning="+this.$target.val()+"]").parent().parent().parent().xfFadeDown(XF.config.speed.xxfast,function(){}),a("input[data-warning-title-input=1][data-for-warning!='"+this.$target.val()+"']").parent().parent().parent().xfFadeUp(XF.config.speed.xxfast),
this.setPublicMessage(""),this.$target.is("[data-warning-label]")&&this.setPublicMessage(this.$target.data("warning-label"));else if(this.$target.is("select")){a("input[data-warning-title-input=1][data-for-warning!='"+this.$target.find("option:selected").val()+"']").prop("disabled",!0).parent().parent().xfFadeUp(XF.config.speed.xxfast);var b=this.$target.find("option:selected").val(),c=a("input[data-warning-title-input=1][data-for-warning="+b+"]");b=a("dl[data-for-warning="+b+"][data-warning-label]");
var d="";0<b.length&&(d=b.data("warning-label"),c.prop("value",d));this.setPublicMessage(d);"hidden"!==c.prop("type")&&c.prop("disabled",!1).parent().parent().xfFadeDown(XF.config.speed.xxfast)}},setPublicMessage:function(b){XF.config.sv_warningimprovements_copy_title&&a("input[name='action_options[public_message]']").prop("value",b)}});XF.Element.register("warning-view-toggle","SV.WarningViewToggler");XF.Element.register("warning-view-select","SV.WarningViewSelect");XF.Element.register("warning-title-watcher",
"SV.WarningTitleWatcher")})(jQuery,window,document);
