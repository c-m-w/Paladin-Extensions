!function(b,c,e,f){XF.MJSTKbSuggest=XF.Element.newHandler({options:{itemSelector:null},$form:null,$title:null,init:function(){this.$title=this.$target.closest("form").find('input[name="title"]').on("change",XF.proxy(this,"findSuggest"));this.$item=b(this.options.itemSelector);this.$item.length&&(this.$target.on("ajax-submit:before",XF.proxy(this,"beforeSubmit")),this.$target.on("ajax-submit:response",XF.proxy(this,"afterSubmit")))},findSuggest:function(a){a.preventDefault();XF.ajax("get",XF.canonicalizeUrl("index.php?support-tickets/knowledge-base/suggest"),
{q:this.$title.val()},XF.proxy(this,"handleSuggest"),{skipDefaultSuccessError:!0})},handleSuggest:function(a){if(!a.errors&&!a.exception){var b=this;XF.setupHtmlInsert(a.html,function(a,c,d){b.$target.html(a).xfFadeDown(XF.config.speed.xfast,function(){d(!0);XF.layoutChange()})})}}});XF.Element.register("mjst-kb-suggest","XF.MJSTKbSuggest")}(jQuery,window,document);